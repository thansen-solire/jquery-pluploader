/*!
 * @author Thomas <thansen@solire.fr>
 * @licence CC BY-NC 4.0 http://creativecommons.org/licenses/by-nc/4.0/
 */
!function(a){var b=function(b){function c(a){var b="",c=0,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(c=0;a>c;c++)b+=d.charAt(Math.floor(Math.random()*d.length));return b}function d(b){do tmpId=c(10);while(a("#"+b+tmpId).length>0);return b+tmpId}function e(a,b,c){var d=new plupload.Uploader(b);return d.bind("Init",function(b,d){c.Init.call(this,a,b,d)}),d.bind("PostInit",function(b){c.Init.call(this,a,b)}),d.init(),d.bind("BeforeUpload",function(b,d){c.BeforeUpload.call(this,a,b,d)}),d.bind("ChunkUploaded",function(b,d,e){c.ChunkUploaded.call(this,a,b,d,e)}),d.bind("Destroy",function(b){c.Destroy.call(this,a,b)}),d.bind("Error",function(b,d){c.Error.call(this,a,b,d)}),d.bind("FilesAdded",function(b,d){c.FilesAdded.call(this,a,b,d)}),d.bind("FilesRemoved",function(b,d){c.FilesRemoved.call(this,a,b,d)}),d.bind("FileUploaded",function(b,d,e){c.FileUploaded.call(this,a,b,d,e)}),d.bind("QueueChanged",function(b){c.QueueChanged.call(this,a,b)}),d.bind("Refresh",function(b){c.Refresh.call(this,a,b)}),d.bind("StateChanged",function(b){c.StateChanged.call(this,a,b)}),d.bind("UploadComplete",function(b,d){c.UploadComplete.call(this,a,b,d)}),d.bind("UploadFile",function(b,d){c.UploadFile.call(this,a,b,d)}),d.bind("UploadProgress",function(b,d){c.UploadProgress.call(this,a,b,d)}),d}var f,g={baseHref:"/",BeforeUpload:function(){},ChunkUploaded:function(){},Destroy:function(){},Error:function(){},FilesAdded:function(a,b){b.start()},FilesRemoved:function(){},FileUploaded:function(){},Init:function(){},PostInit:function(){},QueueChanged:function(){},Refresh:function(){},StateChanged:function(){},UploadComplete:function(){},UploadFile:function(){},UploadProgress:function(){}},h={url:"upload.php",runtimes:"html5,gears,flash,silverlight,browserplus",max_file_size:"50mb",filters:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"},{title:"Adobe",extensions:"pdf,ai,psd,indd"}],flash_swf_url:"plupload.flash.swf",silverlight_xap_url:"plupload.silverlight.xap",multi_selection:!1,unique_names:!1,chunk_size:"1mb",multipart_params:{}},i=a.extend({},g,b),j=a.extend({},h),k=function(){var b,c=null,f=null;if(a(this).unbind("click").click(function(a){a.preventDefault()}),b=a(this).attr("id"),(null==b||""==b||a("[id="+b+"]").length>1)&&(b=d("pluploader-"),a(this).attr("id",b)),j.browse_button=b,"drop_element"in i&&null!=i.drop_element)switch(typeof i.drop_element){case"string":a(i.drop_element).length>0?c=a(i.drop_element):a("#"+i.drop_element).length>0&&(c=a(i.drop_element));break;case"function":c=i.drop_element.call(this),!c instanceof jQuery&&(c=null);break;default:i.drop_element instanceof jQuery&&(c=i.drop_element)}null!=c&&(f=c.attr("id"),(null==f||""==f||a("[id="+f+"]").length>1)&&(f=d("pluploader-container-"),c.attr("id",f)),j.drop_element=f),this.uploader=e(this,j,i)};j.flash_swf_url=i.baseHref+j.flash_swf_url,j.silverlight_xap_url=i.baseHref+j.silverlight_xap_url;for(f in h)f in i&&(j[f]=i[f]);return this.each(k)};a.fn.pluploader=b}(jQuery);